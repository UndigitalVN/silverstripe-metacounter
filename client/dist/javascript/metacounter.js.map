{"version":3,"sources":["src/javascript/metacounter.js"],"names":["jQuery","entwine","$","onkeyup","this","updateStats","onkeydown","e","which","keyCode","preventDefault","onfocusout","val","replace","onmatch","attr","length","after","limitExtended","chars","trim","limit","data","result","removeClass","addClass","text"],"mappings":"AA0DAA,OAzDGC,QAAQ,KAAM,SAAYC,GAE7BA,EAAA,iDAAA,EAAAD,QAAA,CAFGE,QAAA,WACHC,KAAAC,YAAA,CACA,EACGC,UAAA,SAAAC,IAKHA,EAAAC,OAAA,IAAAD,EAAAC,OAAAD,EAAAE,SAAA,IAAAF,EAAAE,UAFIF,EAAAG,eAAA,CAEJ,EACAC,WAAA,SAAAJ,GAKAH,KAAAQ,IAAAR,KAAAQ,IAAA,EAAAC,QAAA,OAAA,GAAA,CAAA,CAFA,EACGC,QAAA,WACHZ,EAAA,IAAAE,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAC,QACSZ,KAAIa,MAAQ,+BAAyBb,KAAAW,KAAA,IAAA,EAAA,gBAAA,EAE3CX,KAAAC,YAAA,CACH,EACAA,YAAA,WACA,IAKaa,cAJJC,MADJf,KAAAQ,IAAA,EAAAQ,KAAA,EACiBP,QAAC,OAAA,GAAA,EAAAG,OACnBK,MAAAjB,KAAAkB,KAAA,QAAA,EACDC,OAAa,GACZF,QAcJE,QAbaL,cAAAd,KAAAkB,KAAA,iBAAA,GAabJ,cAAAC,OAVeD,cAAPC,OACCjB,EAAA,IAAAE,KAAAW,KAAqB,IAAA,EAAA,OAAA,EAAAS,YAAA,QAAA,EAAAC,SAAA,KAAA,EACN,eACCJ,MAAfF,OACAjB,EAAK,IAAGE,KAAAW,KAAa,IAAA,EAAA,OAAA,EAAAS,YAAA,KAAA,EAAAC,SAAA,QAAA,EACP,uDAEjBvB,EAAA,IAAAE,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAS,YAAA,KAAA,EAAAA,YAAA,QAAA,EACiB,sBAWxBH,MAAAF,OAPOE,MAAAF,OACAjB,EAAA,IAAAE,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAU,SAAA,KAAA,EACS,gBAENvB,EAAA,IAAAE,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAS,YAAA,KAAA,EACc,sBAIxBtB,EAAA,IAAAE,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAW,KAAAH,MAAA,EAEA,CACA,CAAA,CACA,CAAA","file":"metacounter.js","sourcesContent":["(function($){\n\t$.entwine('ss', function($) {\n\n\t\t/* Provide character stats on MetaDescription & MetaTitle input fields */\n\t\t$('input.js-meta-counter, textarea.js-meta-counter').entwine({\n\t\t\tonkeyup: function() {\n\t\t\t\tthis.updateStats();\n\t\t\t},\n\t\t\tonkeydown: function(e) {\n\t\t\t\t/* prevent new line in description */\n\t\t\t\tif ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonfocusout: function(e) {\n\t\t\t\t/* remove multiple spaces */\n\t\t\t\tthis.val(this.val().replace(/\\s+/g, ' '));\n\t\t\t},\n\t\t\tonmatch: function(){\n\t\t\t\tif (!$('#' + this.attr('id') + 'Stats').length) {\n\t\t\t\t\tthis.after('<span class=\"metastats\" id=\"' + this.attr('id') + 'Stats' + '\"></span>');\n\t\t\t\t}\n\t\t\t\tthis.updateStats();\n\t\t\t},\n\t\t\tupdateStats: function() {\n\t\t\t\tvar v = this.val().trim();\n\t\t\t\tvar chars = v.replace(/\\s+/g, ' ').length;\n\t\t\t\tvar limit = this.data('length');\n\t\t\t\tvar result = '';\n\t\t\t\tif (limit) {\n\t\t\t\t\tvar limitExtended = this.data('length-extended');\n\t\t\t\t\tif (limitExtended) {\n\t\t\t\t\t\tvar infoLabel = '';\n\t\t\t\t\t\tif (chars > limitExtended) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('orange').addClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' (too long)';\n\t\t\t\t\t\t} else if (chars > limit) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red').addClass('orange');\n\t\t\t\t\t\t\tinfoLabel = ' characters left (cut off by most search engines).';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red').removeClass('orange');\n\t\t\t\t\t\t\tinfoLabel = ' characters left.';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = (limitExtended - chars) + infoLabel;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (chars > limit) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').addClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' (too long)';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' characters left.';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = (limit - chars) + infoLabel;\n\t\t\t\t\t}\n\t\t\t\t\t$('#' + this.attr('id') + 'Stats').text(result);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t});\n\n})(jQuery);\n"]}