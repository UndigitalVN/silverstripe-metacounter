{"version":3,"sources":["metacounter.js"],"names":["$","entwine","onkeyup","this","updateStats","onkeydown","e","which","keyCode","preventDefault","onfocusout","val","replace","onmatch","attr","length","after","v","trim","chars","limit","data","result","limitExtended","infoLabel","removeClass","addClass","text","jQuery"],"mappings":"CAAA,SAAAA,GACAA,EAAAC,QAAA,KAAA,SAAAD,GAGAA,EAAA,iDAAA,EAAAC,QAAA,CACAC,QAAA,WACAC,KAAAC,YAAA,CACA,EACAC,UAAA,SAAAC,GAEA,GAAAA,EAAAC,OAAAD,EAAAC,OAAA,IAAAD,EAAAE,SAAAF,EAAAE,SAAA,GAAA,CACAF,EAAAG,eAAA,CACA,CACA,EACAC,WAAA,SAAAJ,GAEAH,KAAAQ,IAAAR,KAAAQ,IAAA,EAAAC,QAAA,OAAA,GAAA,CAAA,CACA,EACAC,QAAA,WACA,GAAA,CAAAb,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAC,OAAA,CACAZ,KAAAa,MAAA,+BAAAb,KAAAW,KAAA,IAAA,EAAA,QAAA,WAAA,CACA,CACAX,KAAAC,YAAA,CACA,EACAA,YAAA,WACA,IAAAa,EAAAd,KAAAQ,IAAA,EAAAO,KAAA,EACA,IAAAC,MAAAF,EAAAL,QAAA,OAAA,GAAA,EAAAG,OACA,IAAAK,MAAAjB,KAAAkB,KAAA,QAAA,EACA,IAAAC,OAAA,GACA,GAAAF,MAAA,CACA,IAAAG,cAAApB,KAAAkB,KAAA,iBAAA,EACA,GAAAE,cAAA,CACA,IAAAC,UAAA,GACA,GAAAL,MAAAI,cAAA,CACAvB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAW,YAAA,QAAA,EAAAC,SAAA,KAAA,EACAF,UAAA,aACA,MAAA,GAAAL,MAAAC,MAAA,CACApB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAW,YAAA,KAAA,EAAAC,SAAA,QAAA,EACAF,UAAA,oDACA,KAAA,CACAxB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAW,YAAA,KAAA,EAAAA,YAAA,QAAA,EACAD,UAAA,mBACA,CACAF,OAAAC,cAAAJ,MAAAK,SACA,KAAA,CACA,GAAAL,MAAAC,MAAA,CACApB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAY,SAAA,KAAA,EACAF,UAAA,aACA,KAAA,CACAxB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAW,YAAA,KAAA,EACAD,UAAA,mBACA,CACAF,OAAAF,MAAAD,MAAAK,SACA,CACAxB,EAAA,IAAAG,KAAAW,KAAA,IAAA,EAAA,OAAA,EAAAa,KAAAL,MAAA,CACA,CACA,CACA,CAAA,CAEA,CAAA,CAEA,GAAAM,MAAA","file":"metacounter.js","sourcesContent":["(function($){\n\t$.entwine('ss', function($) {\n\n\t\t/* Provide character stats on MetaDescription & MetaTitle input fields */\n\t\t$('input.js-meta-counter, textarea.js-meta-counter').entwine({\n\t\t\tonkeyup: function() {\n\t\t\t\tthis.updateStats();\n\t\t\t},\n\t\t\tonkeydown: function(e) {\n\t\t\t\t/* prevent new line in description */\n\t\t\t\tif ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t},\n\t\t\tonfocusout: function(e) {\n\t\t\t\t/* remove multiple spaces */\n\t\t\t\tthis.val(this.val().replace(/\\s+/g, ' '));\n\t\t\t},\n\t\t\tonmatch: function(){\n\t\t\t\tif (!$('#' + this.attr('id') + 'Stats').length) {\n\t\t\t\t\tthis.after('<span class=\"metastats\" id=\"' + this.attr('id') + 'Stats' + '\"></span>');\n\t\t\t\t}\n\t\t\t\tthis.updateStats();\n\t\t\t},\n\t\t\tupdateStats: function() {\n\t\t\t\tvar v = this.val().trim();\n\t\t\t\tvar chars = v.replace(/\\s+/g, ' ').length;\n\t\t\t\tvar limit = this.data('length');\n\t\t\t\tvar result = '';\n\t\t\t\tif (limit) {\n\t\t\t\t\tvar limitExtended = this.data('length-extended');\n\t\t\t\t\tif (limitExtended) {\n\t\t\t\t\t\tvar infoLabel = '';\n\t\t\t\t\t\tif (chars > limitExtended) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('orange').addClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' (too long)';\n\t\t\t\t\t\t} else if (chars > limit) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red').addClass('orange');\n\t\t\t\t\t\t\tinfoLabel = ' characters left (cut off by most search engines).';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red').removeClass('orange');\n\t\t\t\t\t\t\tinfoLabel = ' characters left.';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = (limitExtended - chars) + infoLabel;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (chars > limit) {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').addClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' (too long)';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$('#' + this.attr('id') + 'Stats').removeClass('red');\n\t\t\t\t\t\t\tinfoLabel = ' characters left.';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult = (limit - chars) + infoLabel;\n\t\t\t\t\t}\n\t\t\t\t\t$('#' + this.attr('id') + 'Stats').text(result);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t});\n\n})(jQuery);\n"]}